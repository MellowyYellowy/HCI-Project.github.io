<html>
<head>
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500&display=swap" rel="stylesheet">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.3.1/p5.min.js"></script>
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.5/addons/p5.dom.js"></script> -->
	<script src="/lib/p5.speech.js"></script>
	<script>

	var myRec = new p5.SpeechRec(); // new P5.SpeechRec object

	// let playFair;
	// function preload() {
  	// 	playFair = loadFont('fhttps://cdn.discordapp.com/attachments/851806004387905567/851817257587703858/PlayfairDisplay-Bold.otf');
	// }
	
	let henkie;
	let index=0;

	function onEnd()
	{
		myRec.start();
		let eenNaam=document.createElement("p");
				index++
				eenNaam.id=`id_${index}`;
				// eenNaam.innerText=myRec.resultString;
				document.getElementById("bert").appendChild(eenNaam);
	}

	function setup()
	{
		// graphics stuff:
		// createCanvas(window.innerWidth, window.innerHeight);
		// background(255, 255, 255);
		// fill(0, 0, 0, 255);
		// instructions:
		// textFont(playFair);
		// textSize(32);
		// textAlign(CENTER);
		// text("say something", width/2, height/2);
		myRec.onEnd=onEnd;
		myRec.onResult = showResult;
		myRec.start(false,true);
	}

	function draw()
	{
		// why draw when you can talk?
	}

	function showResult()
	{
		if(myRec.resultValue==true) {
			// background(252, 200, 11);
			// text(myRec.resultString, width/2, height/2);
			console.log(myRec.resultString);
			// let eenNaam=document.createElement("p");
			// eenNaam.innerText=myRec.resultString;
			// document.body.appendChild(eenNaam);
			document.getElementById(`id_${index}`).innerText=myRec.resultString;
			if(henkie==myRec.resultString){
			}
			henkie=myRec.resultString;
		}
	}


</script>
<style>
	*{
		margin: 0px;
		font-family: "playfair";
	}
</style>
</head>
<body>
	<div id="bert">
		<p id="id_0"></p>
	</div>
</body>
</html>
